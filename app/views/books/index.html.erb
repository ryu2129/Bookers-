<html>

<% if flash[:notice] %>
  <p id="notice">
    <%= flash[:notice] %>
  </p>
<% end %>

<h1>Books</h1>

<table>
  <thead>
    <tr>
       <th>Title</th>
       <th>Body</th>
       <th colspan="3"></th>
    </tr>
   </thead>

    <tbody>
      <% @books.each do |book| %>
        <tr> 
          <td>
            <%= book.title %>
          </td>
          <td>
            <%= book.body %>
          </td>
          <td>
            <%= link_to "show", book_path(book.id) %>
            <%= link_to "edit", edit_book_path(book.id) %>
            <%= link_to "destroy", book_path(book.id), method: :delete, "data-confirm" => "Are you sure?" %>
          </td>
        </tr>  
    <% end %>
  </tbody>   
</table>


<h2>New book</h2>
<!-- form_for部分 -->



<div class="field">
<% if @book.errors.any? %> 
<%= form_for(@book) do |f| %>
  <%= render 'layouts/error_messages', model: f.object %>
<div class="field_with_errors">
<label for=book_title>Title</label>
</div>

<%= f.text_field :title %>

<div class="field_with_errors">
<label for=book_body>Body</label>
</div>
<%= f.text_area :body %>

<br><%= f.submit 'Create Book' %></br>

<% end %>
<% else %>
  <%= form_for(@book) do |f| %>
    <%= render 'layouts/error_messages', model: f.object %>
  <div class="field_box">
   <label for=book_title>Title</label>
  </div>

  <%= f.text_field :title %>

  <div class="field_box">
<label for=book_body>Body</label>
</div>
  <%= f.text_area :body %>
  
  <br><%= f.submit 'Create Book' %></br>
  <% end %>
<% end %>
</div>


</html>
	
